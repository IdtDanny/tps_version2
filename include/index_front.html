<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tap & Pay</title>

    <!-- Icon Header -->
    <link rel="shortcut icon" type="image/png" href="public/img/card_Header.png">

    <!-- Core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="node_modules/css/main.min.css">

    <!-- Icons CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">

</head>
<style>
    section {
        padding: 50px 0px;
    }
    
    .just {
        text-align: justify;
    }
</style>

<body>
    <!-- main page & intro cover -->
    <section id="intro" class="bg-altprimary">
        <div class="container-xxl">
            <div class="row justify-content-center align-items-center">
                <div class="col-md-5 text-center text-md-start text-light">
                    <h1>
                        <div class="display-1 fw-bold">Tap & Pay</div>
                        <!-- <div class="display-6 pt-3 text-muted">Welcome to the unlimitless world.</div> -->
                    </h1>
                    <p class="my-4 text-muted">&raquo; <em>We are proud to serve you in making the place of convenient, convenience for All. </em></p>
                    <p class="my-4 text-muted">&raquo; <em>Come on Just do it Yourself. </em></p>

                    <a class="btn btn-gold d-lg-none d-inline-block bi-view-stacked" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
                        Explore
                      </a>

                    <a href="#" class="btn btn-gold bi-people d-lg-inline-block d-none" data-bs-toggle="modal" data-bs-target="#aregisterModal" data-bs-whatever="@aregister"><span class="d-lg-inline-block">&nbsp;Land a Job</span></a>

                    <a href="#" class="btn btn-gold bi-buildings d-lg-inline-block d-none" data-bs-toggle="modal" data-bs-target="#bregisterModal" data-bs-whatever="@register"><span class="d-lg-inline-block">&nbsp;Become our client</span></a>

                    <a href="#signin" class="btn btn-outline-altlight bi-door-open"> Sign in</a>


                    <!-- Printing alerts -->
                    <?php if($agent_errorMessage || $agent_deleteErrorMessage || $update_errorMessage || $busy_errorMessage) { ?>
                    <div class="alert alert-warning alert-dismissible fade show alert-danger mt-2" role="alert">
                        <strong class="bi bi-exclamation-triangle"><?php echo $agent_errorMessage; echo $agent_deleteErrorMessage; echo $update_errorMessage; echo $busy_errorMessage; ?></strong>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>

                    <?php } ?>

                    <?php if($agent_successMessage || $agent_deleteSuccessMessage || $update_successMessage || $busy_successMessage) { ?>
                    <div class="alert alert-success alert-dismissible fade show mt-2" role="alert">
                        <strong class="bi bi-check2-all"><?php echo $agent_successMessage; echo $agent_deleteSuccessMessage; echo $update_successMessage; echo $busy_successMessage; ?></strong>
                        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>
                    <?php } ?>

                </div>

                <!-- tooltip -->
                <div class="mt-lg-0 mb-lg-0 col-md-5 mt-md-5 pb-md-5 pt-md-5 mb-md-5 text-center d-none d-md-block">
                    <span class="tt" data-bs-placement="bottom" title="World without Limit">
                        <img class="img-fluid" src="public/img/image.png" alt="">
                    </span>
                </div>
            </div>
        </div>
    </section>

    <!-- login  -->
    <section id="signin" class="bg-light mt-1">
        <div class="container-lg">
            <div class="text-center">
                <h2>Log your credentials</h2>
                <p class="lead text-muted">We're glad to have you!</p>
            </div>

            <!-- login row -->
            <div class="row my-5 align-items-center justify-content-center g-0">

                <!-- login -->
                <div class="col-12 col-md-6 col-lg-5">

                    <?php
                if($error_message): ?>
                        <div class="alert alert-warning alert-dismissible fade show alert-danger" role="alert">
                            <strong class="bi bi-exclamation-triangle"><?php echo $error_message; ?></strong>
                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                        </div>
                        <?php endif ?>

                        <div class="card border-altprimary border-2 rounded-4">
                            <div class="card-header text-center text-gold">SIGN IN</div>
                            <div class="card-body text-center py-lg-5">
                                <h4 class="card-title fw-medium text-altprimary">BUSINESS - CLIENT</h4>
                                <p class="card-subtitle p-3"><em>Signin with your username and password</em></p>

                                <form action="" method="post">

                                    <div class="mb-4 input-group">
                                        <span class="input-group-text"><i class="bi bi-person-circle"></i></span>

                                        <div class="form-floating">
                                            <input type="text" name="username" id="email" class="form-control" placeholder="Username" id="floatingInputGroup1">
                                            <label for="floatingInputGroup1">Username or TIN</label>
                                        </div>

                                        <!-- tooltips -->
                                        <div class="input-group-text">
                                            <span class="tt" data-bs-placement="bottom" title="Your registered username and/or TIN"><i class="bi bi-question-circle"></i>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="mb-4 input-group">
                                        <span class="input-group-text"><i class="bi bi-key-fill"></i></span>

                                        <div class="form-floating">
                                            <input type="password" name="password" id="email" class="form-control" placeholder="peT@123!nK?" id="floatingInputGroup1">
                                            <label for="floatingInputGroup1">Password</label>
                                        </div>

                                        <!-- tooltips -->
                                        <div class="input-group-text">
                                            <span class="tt" data-bs-placement="bottom" title="Your key"><i class="bi bi-question-circle"></i></span>
                                        </div>
                                    </div>
                                    <a href="#" class="text-danger float-start"><small>forgot password?</a>

                                    <button type="submit" class="btn btn-altprimary mt-3 text-altlight bi-door-open-fill float-end" name="signin">&nbsp; Sign in</button>
                                </form>
                            </div>
                        </div>
                </div>

            </div>
        </div>
    </section>

    <!-- get updates / modal trigger -->
    <section class="bg-altprimary">
        <footer class="lead text-altlight text-center">
            <p>
                &copy; Copyrights 2023
            </p>
        </footer>
    </section>

    <!-- Modal Lists -->
    <div>
        <!-- business register modal -->
        <div class="modal fade" id="bregisterModal" tabindex="-1" aria-labelledby="bregisterModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-altprimary text-altlight">
                        <h1 class="modal-title fs-5 text-uppercase bi-building-add fw-bold" id="exampleModalLabel"> Apply for business</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <form action="" method="post" enctype="multipart/form-data">
                        <div class="modal-body">
                            <p class="text-muted text-center bi-exclamation-triangle"> Default username and password will be TIN</p>

                            <!-- post name -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-buildings-fill"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="text" name="business_name" class="form-control" placeholder="Business Name" id="floatingInputGroup1">
                                    <label for="floatingInputGroup1">Business Name</label>
                                </div>


                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add your business name">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- post business_type -->
                            <div class="input-group mb-4">
                                <label class="input-group-text bi-unity" for="inputGroupSelect01">&nbsp;Type</label>
                                <div class="form-floating">
                                    <select class="form-select" name="business_type" id="floatingSelectGrid" id="inputGroupSelect01">
                                        <option selected>Choose ...</option>
                                        <option value="gas">Gas station</option>
                                        <option value="others">Other</option>
                                    </select>
                                    <label for="floatingSelectGrid">Which type: Gas station or not?</label>
                                </div>
                            </div>

                            <!-- post_email -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-envelope-fill"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="email" name="business_mail" id="email" class="form-control" placeholder="Email address" id="floatingInputGroup1">
                                    <label for="floatingInputGroup1">Business Email</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add your email address.">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- business tin -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-123"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="text" name="business_tin" id="name" class="form-control" placeholder="Business TIN" id="floatingInputGroup1" required>
                                    <label for="floatingInputGroup1">Business TIN</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add your Tax Identification Number">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- business profile -->
                            <div class="input-group mb-3">
                                <label class="input-group-text bi-upload" for="inputGroupFile01"></label>
                                <input type="file" name="business_profile" class="form-control" id="inputGroupFile01">

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add your profile photo">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <p class="lead text-altprimary fw-bold bi-globe text-uppercase text-center"> Location</p>

                            <!-- location -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-globe"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="text" name="business_district" class="form-control" placeholder="District" id="floatingInputGroup1" required>
                                    <label for="floatingInputGroup1">District</label>
                                </div>
                                <div class="form-floating">
                                    <input type="text" name="business_sector" class="form-control" placeholder="Sector" id="floatingInputGroup1" required>
                                    <label for="floatingInputGroup1">Sector</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add current working location">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary bi-x-lg" data-bs-dismiss="modal"> Close</button>
                            <button type="submit" name="businessApply" class="btn btn-altprimary bi-send-check float-end"> Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- agent register modal -->
        <div class="modal fade" id="aregisterModal" tabindex="-1" aria-labelledby="aregisterModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-altprimary">
                        <h1 class="modal-title fs-5 text-uppercase bi-person-add fw-bold text-altlight" id="exampleModalLabel"> Apply for agent</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <form action="" method="post" enctype="multipart/form-data">
                        <div class="modal-body">
                            <p class="text-muted text-center bi-exclamation-triangle"> Default password will be like (username-pin) </p>

                            <!-- post name and username -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-person-circle"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="text" name="agent_name" class="form-control" placeholder="Agent Name" id="floatingInputGroup1">
                                    <label for="floatingInputGroup1">Your Name</label>
                                </div>

                                <div class="form-floating">
                                    <input type="text" name="agent_uname" class="form-control" placeholder="Username" id="floatingInputGroup1">
                                    <label for="floatingInputGroup1">Username</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Register your name">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- post genger -->
                            <div class="input-group mb-4">
                                <label class="input-group-text bi-gender-ambiguous" for="inputGroupSelect01">&nbsp;Gender</label>
                                <div class="form-floating">
                                    <select class="form-select" name="agender" id="floatingSelectGrid" id="inputGroupSelect01">
                                        <option selected>Choose ...</option>
                                        <option value="male">Male</option>
                                        <option value="female">Female</option>
                                        <option value="rather">Rather not say</option>
                                    </select>
                                    <label for="floatingSelectGrid">Which way do you prefer?</label>
                                </div>
                            </div>

                            <!-- post phone number -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-telephone-fill"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="tel" name="agent_tel" id="email" class="form-control" placeholder="Email address" id="floatingInputGroup1">
                                    <label for="floatingInputGroup1">Your mobile number</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add your phone number">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- post_email -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-envelope-fill"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="email" name="agent_mail" id="email" class="form-control" placeholder="Email address" id="floatingInputGroup1">
                                    <label for="floatingInputGroup1">Your e-mail address</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add your email address.">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- agent profile -->
                            <div class="input-group mb-3">
                                <label class="input-group-text bi-upload" for="inputGroupFile01"></label>
                                <input type="file" name="agent_profile" class="form-control" id="inputGroupFile01">

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add agent profile photo">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <p class="lead text-altprimary fw-bold bi-globe text-uppercase text-center"> Location</p>

                            <!-- location -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-globe"></i>
                                </span>

                                <div class="form-floating">
                                    <input type="text" name="agent_district" class="form-control" placeholder="District" id="floatingInputGroup1" required>
                                    <label for="floatingInputGroup1">District</label>
                                </div>
                                <div class="form-floating">
                                    <input type="text" name="agent_sector" class="form-control" placeholder="Sector" id="floatingInputGroup1" required>
                                    <label for="floatingInputGroup1">Sector</label>
                                </div>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Add current working location">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary bi-x-lg" data-bs-dismiss="modal"> Cancel</button>
                            <button type="submit" name="agentApply" class="btn btn-altprimary float-end bi-send-check"> Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- client check modal -->
        <div class="modal fade" id="updateModal" tabindex="-1" aria-labelledby="updateModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-altprimary">
                        <h1 class="modal-title fs-5 text-uppercase bi-person-add fw-bold" id="exampleModalLabel"> Update Information</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <form method="post">
                        <div class="modal-body">
                            <p class="text-muted text-center bi-exclamation-triangle"> Default username and password will be TIN</p>

                            <!-- post current tin -->
                            <div class="input-group mb-4">
                                <label class="input-group-text bi-unity" for="inputGroupSelect01">&nbsp;Type</label>

                                <?php
                                    # fetching current business tin from database
                                    $tin = 'SELECT * FROM `business` ORDER BY `Date` DESC';
                                    $business_FetchStatement = $pdo->prepare($tin);
                                    $business_FetchStatement->execute();
                                    // $business_listTin = $business_FetchStatement->fetch();
                                ?>
                                    <select class="form-select" name="old_btin" id="inputGroupSelect01" required>
                                    <option>Re-select TIN</option>
                                    <?php while ($business_listTin = $business_FetchStatement->fetch()) { ?>
                                    <option value="<?php echo $business_listTin->business_tin ?>"><?php echo $business_listTin->business_tin ?></option>
                                    <?php } ?>
                                </select>
                            </div>

                            <!-- post new name -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-house-fill"></i>
                                </span>
                                <input type="text" name="nbusiness_name" class="form-control" placeholder="New Business Name" required>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Re-new business name">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <!-- post new business_type -->
                            <div class="input-group mb-4">
                                <label class="input-group-text bi-unity" for="inputGroupSelect01">&nbsp;Type</label>
                                <select class="form-select" name="nbusiness_type" id="inputGroupSelect01" required>
                                    <option selected>Choose ...</option>
                                    <option value="gas">Gas station</option>
                                    <option value="others">Other</option>
                                </select>
                            </div>

                            <!-- new business tin -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-123"></i>
                                </span>
                                <input type="text" name="nbusiness_tin" id="name" class="form-control" placeholder="New Business TIN" required>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Re-new your Tax Identification Number">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                            <p class="lead text-altprimary fw-bold bi-globe text-uppercase text-center"> Location</p>

                            <!-- update location -->
                            <div class="mb-4 input-group">
                                <span class="input-group-text">
                                    <i class="bi bi-globe"></i>
                                </span>
                                <input type="text" name="nbusiness_district" class="form-control" placeholder="Re-new District" required>
                                <input type="text" name="nbusiness_sector" class="form-control" placeholder="Re-new Sector" required>

                                <!-- tooltips -->
                                <span class="input-group-text">
                                    <span class="tt" data-bs-placement="bottom" title="Update current working location">
                                        <i class="bi bi-info"></i>
                                    </span>
                                </span>
                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary bi-x-lg" data-bs-dismiss="modal"> Cancel</button>
                            <button type="submit" name="updatebusiness" class="btn btn-altprimary float-end bi-send-check"> Submit</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div>

    <!-- offcanvas for register -->
    <div class="offcanvas offcanvas-top bg-altprimary" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h3 class="offcanvas-title text-uppercase fw-medium text-altlight bi-view-stacked" id="offcanvasExampleLabel"> Explore other options</h3>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div>
                <p class="text-muted">Become a business partner or land a job with us.</p>
                <!-- <p class="text-muted">Use link below!</p> -->
            </div>
            <a href="#signin" class="btn btn-gold bi-people" data-bs-toggle="modal" data-bs-target="#aregisterModal" data-bs-whatever="@aregister"><span class="d-lg-inline-block">&nbsp;Land a Job</span></a>

            <a href="#signin" class="btn btn-gold bi-buildings" data-bs-toggle="modal" data-bs-target="#bregisterModal" data-bs-whatever="@register"><span class="d-lg-inline-block">&nbsp;Become our client</span></a>
        </div>
    </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
    <script>
        const tooltips = document.querySelectorAll('.tt')
        tooltips.forEach(t => {
            new bootstrap.Tooltip(t)
        })
    </script>
</body>

</html>